import { __decorate, __metadata } from "tslib";
import { Component, Input, ChangeDetectionStrategy, HostBinding } from '@angular/core';
import { BehaviorSubject } from 'rxjs';
import { toBoolean, InputBoolean } from '../util/convert';
import { uniqueId } from '../util/util';
var NglRadioGroup = /** @class */ (function () {
    function NglRadioGroup() {
        this.type = 'list';
        this.uid = uniqueId('radio-group');
        this.type$ = new BehaviorSubject(this.type);
        this.error$ = new BehaviorSubject(this.error);
    }
    Object.defineProperty(NglRadioGroup.prototype, "hasError", {
        get: function () {
            return toBoolean(this.error);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NglRadioGroup.prototype, "errorId", {
        get: function () {
            return "error_" + this.uid;
        },
        enumerable: true,
        configurable: true
    });
    NglRadioGroup.prototype.ngOnChanges = function (changes) {
        if (changes.type) {
            this.type$.next(this.type);
        }
        if (changes.error) {
            this.error$.next(this.hasError ? this.errorId : null);
        }
    };
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], NglRadioGroup.prototype, "label", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], NglRadioGroup.prototype, "error", void 0);
    __decorate([
        HostBinding('class.slds-has-error'),
        __metadata("design:type", Boolean),
        __metadata("design:paramtypes", [])
    ], NglRadioGroup.prototype, "hasError", null);
    __decorate([
        Input(), InputBoolean(),
        __metadata("design:type", Boolean)
    ], NglRadioGroup.prototype, "required", void 0);
    __decorate([
        Input(),
        __metadata("design:type", String)
    ], NglRadioGroup.prototype, "type", void 0);
    NglRadioGroup = __decorate([
        Component({
            selector: 'ngl-radio-group,[ngl-radio-group]',
            template: "\n<legend class=\"slds-form-element__legend slds-form-element__label\"><abbr class=\"slds-required\" *ngIf=\"required\" title=\"required\">*</abbr><span [nglInternalOutlet]=\"label\"></span></legend>\n<div class=\"slds-form-element__control\">\n  <div class=\"slds-radio_button-group\" *ngIf=\"type === 'button'; else contentTpl\">\n    <ng-container *ngTemplateOutlet=\"contentTpl\"></ng-container>\n  </div>\n</div>\n<div class=\"slds-form-element__help\" *ngIf=\"error\" [id]=\"errorId\">{{error}}</div>\n<ng-template #contentTpl>\n  <ng-content></ng-content>\n</ng-template>",
            changeDetection: ChangeDetectionStrategy.OnPush,
            host: {
                '[class.slds-form-element]': 'true',
            }
        })
    ], NglRadioGroup);
    return NglRadioGroup;
}());
export { NglRadioGroup };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFkaW8tZ3JvdXAuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZy1saWdodG5pbmcvIiwic291cmNlcyI6WyJsaWIvcmFkaW8tZ3JvdXAvcmFkaW8tZ3JvdXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLHVCQUF1QixFQUFlLFdBQVcsRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFDOUgsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFVeEM7SUFBQTtRQWlCVyxTQUFJLEdBQXNCLE1BQU0sQ0FBQztRQUUxQyxRQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRTlCLFVBQUssR0FBRyxJQUFJLGVBQWUsQ0FBb0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTFELFdBQU0sR0FBRyxJQUFJLGVBQWUsQ0FBZ0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBVTFELENBQUM7SUExQkMsc0JBQUksbUNBQVE7YUFBWjtZQUNFLE9BQU8sU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixDQUFDOzs7T0FBQTtJQUlELHNCQUFJLGtDQUFPO2FBQVg7WUFDRSxPQUFPLFdBQVMsSUFBSSxDQUFDLEdBQUssQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQVVELG1DQUFXLEdBQVgsVUFBWSxPQUFzQjtRQUNoQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7WUFDaEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3ZEO0lBQ0gsQ0FBQztJQTlCUTtRQUFSLEtBQUssRUFBRTs7Z0RBQWtDO0lBRWpDO1FBQVIsS0FBSyxFQUFFOztnREFBZTtJQUd2QjtRQURDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQzs7O2lEQUduQztJQUV3QjtRQUF4QixLQUFLLEVBQUUsRUFBRSxZQUFZLEVBQUU7O21EQUFtQjtJQU1sQztRQUFSLEtBQUssRUFBRTs7K0NBQWtDO0lBakIvQixhQUFhO1FBUnpCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxtQ0FBbUM7WUFDN0MsOGtCQUFpQztZQUNqQyxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtZQUMvQyxJQUFJLEVBQUU7Z0JBQ0osMkJBQTJCLEVBQUUsTUFBTTthQUNwQztTQUNGLENBQUM7T0FDVyxhQUFhLENBaUN6QjtJQUFELG9CQUFDO0NBQUEsQUFqQ0QsSUFpQ0M7U0FqQ1ksYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBUZW1wbGF0ZVJlZiwgSG9zdEJpbmRpbmcsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0b0Jvb2xlYW4sIElucHV0Qm9vbGVhbiB9IGZyb20gJy4uL3V0aWwvY29udmVydCc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWwvdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nbC1yYWRpby1ncm91cCxbbmdsLXJhZGlvLWdyb3VwXScsXG4gIHRlbXBsYXRlVXJsOiAnLi9yYWRpby1ncm91cC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLnNsZHMtZm9ybS1lbGVtZW50XSc6ICd0cnVlJyxcbiAgfSxcbn0pXG5leHBvcnQgY2xhc3MgTmdsUmFkaW9Hcm91cCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG5cbiAgQElucHV0KCkgbGFiZWw6IHN0cmluZyB8IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgQElucHV0KCkgZXJyb3I6IHN0cmluZztcblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNsZHMtaGFzLWVycm9yJylcbiAgZ2V0IGhhc0Vycm9yKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0b0Jvb2xlYW4odGhpcy5lcnJvcik7XG4gIH1cblxuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgcmVxdWlyZWQ6IGJvb2xlYW47XG5cbiAgZ2V0IGVycm9ySWQoKSB7XG4gICAgcmV0dXJuIGBlcnJvcl8ke3RoaXMudWlkfWA7XG4gIH1cblxuICBASW5wdXQoKSB0eXBlOiAnbGlzdCcgfCAnYnV0dG9uJyA9ICdsaXN0JztcblxuICB1aWQgPSB1bmlxdWVJZCgncmFkaW8tZ3JvdXAnKTtcblxuICB0eXBlJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8J2xpc3QnIHwgJ2J1dHRvbic+KHRoaXMudHlwZSk7XG5cbiAgZXJyb3IkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmcgfCBudWxsPih0aGlzLmVycm9yKTtcblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMudHlwZSkge1xuICAgICAgdGhpcy50eXBlJC5uZXh0KHRoaXMudHlwZSk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLmVycm9yKSB7XG4gICAgICB0aGlzLmVycm9yJC5uZXh0KHRoaXMuaGFzRXJyb3IgPyB0aGlzLmVycm9ySWQgOiBudWxsKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==