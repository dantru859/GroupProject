import { __decorate, __metadata } from "tslib";
import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ElementRef, Renderer2, ContentChildren, QueryList } from '@angular/core';
import { NglAccordionSection } from './accordion-section';
import { isOptionSelected, addOptionToSelection } from '../util/util';
import { InputBoolean } from '../util/convert';
var NglAccordion = /** @class */ (function () {
    function NglAccordion(element, renderer) {
        this.activeNameChange = new EventEmitter();
        /**
         * Whether we allow multiple sections open at a time.
         */
        this.multiple = false;
        renderer.addClass(element.nativeElement, 'slds-accordion');
    }
    NglAccordion.prototype.toggle = function (section) {
        var active = addOptionToSelection(section.name, this.activeName, this.multiple);
        this.activeNameChange.emit(active);
    };
    NglAccordion.prototype.isActive = function (section) {
        return isOptionSelected(section.name, this.activeName, this.multiple);
    };
    NglAccordion.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer2 }
    ]; };
    __decorate([
        Input(),
        __metadata("design:type", Object)
    ], NglAccordion.prototype, "activeName", void 0);
    __decorate([
        Output(),
        __metadata("design:type", Object)
    ], NglAccordion.prototype, "activeNameChange", void 0);
    __decorate([
        Input(), InputBoolean(),
        __metadata("design:type", Object)
    ], NglAccordion.prototype, "multiple", void 0);
    __decorate([
        ContentChildren(NglAccordionSection),
        __metadata("design:type", QueryList)
    ], NglAccordion.prototype, "sections", void 0);
    NglAccordion = __decorate([
        Component({
            selector: 'ngl-accordion,[ngl-accordion]',
            changeDetection: ChangeDetectionStrategy.OnPush,
            template: "\n<li *ngFor=\"let section of sections\" nglAccordionItem [isActive]=\"isActive(section)\" [section]=\"section\" (toggle)=\"toggle(section)\"></li>"
        }),
        __metadata("design:paramtypes", [ElementRef, Renderer2])
    ], NglAccordion);
    return NglAccordion;
}());
export { NglAccordion };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmctbGlnaHRuaW5nLyIsInNvdXJjZXMiOlsibGliL2FjY29yZGlvbi9hY2NvcmRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsdUJBQXVCLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25KLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFPL0M7SUFnQkUsc0JBQVksT0FBbUIsRUFBRSxRQUFtQjtRQVQxQyxxQkFBZ0IsR0FBRyxJQUFJLFlBQVksRUFBcUIsQ0FBQztRQUVuRTs7V0FFRztRQUNzQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBS3hDLFFBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCw2QkFBTSxHQUFOLFVBQU8sT0FBNEI7UUFDakMsSUFBTSxNQUFNLEdBQUcsb0JBQW9CLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCwrQkFBUSxHQUFSLFVBQVMsT0FBNEI7UUFDbkMsT0FBTyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3hFLENBQUM7O2dCQVhvQixVQUFVO2dCQUFZLFNBQVM7O0lBWDNDO1FBQVIsS0FBSyxFQUFFOztvREFBK0I7SUFFN0I7UUFBVCxNQUFNLEVBQUU7OzBEQUEwRDtJQUsxQztRQUF4QixLQUFLLEVBQUUsRUFBRSxZQUFZLEVBQUU7O2tEQUFrQjtJQUVKO1FBQXJDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQztrQ0FBVyxTQUFTO2tEQUFzQjtJQWRwRSxZQUFZO1FBTHhCLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSwrQkFBK0I7WUFDekMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07WUFDL0MsK0pBQStCO1NBQ2hDLENBQUM7eUNBaUJxQixVQUFVLEVBQVksU0FBUztPQWhCekMsWUFBWSxDQTZCeEI7SUFBRCxtQkFBQztDQUFBLEFBN0JELElBNkJDO1NBN0JZLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIEVsZW1lbnRSZWYsIFJlbmRlcmVyMiwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nbEFjY29yZGlvblNlY3Rpb24gfSBmcm9tICcuL2FjY29yZGlvbi1zZWN0aW9uJztcbmltcG9ydCB7IGlzT3B0aW9uU2VsZWN0ZWQsIGFkZE9wdGlvblRvU2VsZWN0aW9uIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IElucHV0Qm9vbGVhbiB9IGZyb20gJy4uL3V0aWwvY29udmVydCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nbC1hY2NvcmRpb24sW25nbC1hY2NvcmRpb25dJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHRlbXBsYXRlVXJsOiAnLi9hY2NvcmRpb24uaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIE5nbEFjY29yZGlvbiB7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGV4cGFuZGVkIHNlY3Rpb24ocykuXG4gICAqL1xuICBASW5wdXQoKSBhY3RpdmVOYW1lOiBzdHJpbmcgfCBzdHJpbmdbXTtcblxuICBAT3V0cHV0KCkgYWN0aXZlTmFtZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nIHwgc3RyaW5nW10+KCk7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgd2UgYWxsb3cgbXVsdGlwbGUgc2VjdGlvbnMgb3BlbiBhdCBhIHRpbWUuXG4gICAqL1xuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgbXVsdGlwbGUgPSBmYWxzZTtcblxuICBAQ29udGVudENoaWxkcmVuKE5nbEFjY29yZGlvblNlY3Rpb24pIHNlY3Rpb25zOiBRdWVyeUxpc3Q8TmdsQWNjb3JkaW9uU2VjdGlvbj47XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHJlbmRlcmVyLmFkZENsYXNzKGVsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3NsZHMtYWNjb3JkaW9uJyk7XG4gIH1cblxuICB0b2dnbGUoc2VjdGlvbjogTmdsQWNjb3JkaW9uU2VjdGlvbikge1xuICAgIGNvbnN0IGFjdGl2ZSA9IGFkZE9wdGlvblRvU2VsZWN0aW9uKHNlY3Rpb24ubmFtZSwgdGhpcy5hY3RpdmVOYW1lLCB0aGlzLm11bHRpcGxlKTtcbiAgICB0aGlzLmFjdGl2ZU5hbWVDaGFuZ2UuZW1pdChhY3RpdmUpO1xuICB9XG5cbiAgaXNBY3RpdmUoc2VjdGlvbjogTmdsQWNjb3JkaW9uU2VjdGlvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBpc09wdGlvblNlbGVjdGVkKHNlY3Rpb24ubmFtZSwgdGhpcy5hY3RpdmVOYW1lLCB0aGlzLm11bHRpcGxlKTtcbiAgfVxuXG59XG4iXX0=