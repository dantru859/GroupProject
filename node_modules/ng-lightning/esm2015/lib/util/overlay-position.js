import { ConnectionPositionPair } from '@angular/cdk/overlay';
export const POSITION_MAP = {
    'top': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'center', overlayY: 'bottom' }),
        nubbin: 'bottom'
    },
    'top-left': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'bottom-left'
    },
    'top-left-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'bottom-left-corner'
    },
    'top-right': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'bottom-right'
    },
    'top-right-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'bottom-right-corner'
    },
    'right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'center' }),
        nubbin: 'left'
    },
    'right-top': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'left-top'
    },
    'right-top-corner': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'left-top-corner'
    },
    'right-bottom': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'left-bottom'
    },
    'right-bottom-corner': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'left-bottom-corner'
    },
    'bottom': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'center', overlayY: 'top' }),
        nubbin: 'top'
    },
    'bottom-left': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'top-left'
    },
    'bottom-left-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'top-left-corner'
    },
    'bottom-right': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'top-right'
    },
    'bottom-right-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'top-right-corner'
    },
    'left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'center' }),
        nubbin: 'right'
    },
    'left-top': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'right-top'
    },
    'left-top-corner': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'right-top-corner'
    },
    'left-bottom': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'right-bottom'
    },
    'left-bottom-corner': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'right-bottom-corner'
    }
};
const DROPDOWN_POSITION_MAP = {
    'top-left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
    },
    'bottom-left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
    },
    'bottom-right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
    },
    'top-right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
    },
};
const ɵ0 = (p) => DROPDOWN_POSITION_MAP[p].position, ɵ1 = (p) => DROPDOWN_POSITION_MAP[p].position;
export const DEFAULT_DROPDOWN_POSITIONS = {
    left: [`bottom-left`, `top-left`].map(ɵ0),
    right: [`bottom-right`, `top-right`].map(ɵ1),
};
const ɵ2 = (placement) => POSITION_MAP[placement].position;
export const DEFAULT_TOOLTIP_POSITIONS = ['top', 'right', 'bottom', 'left'].map(ɵ2);
export const DEFAULT_POPOVER_POSITIONS = DEFAULT_TOOLTIP_POSITIONS;
export function getPlacementName(position, initialPlacement) {
    const keyList = ['originX', 'originY', 'overlayX', 'overlayY'];
    for (const placement in POSITION_MAP) {
        if (keyList.every(key => position.connectionPair[key] === POSITION_MAP[placement]['position'][key])) {
            if (initialPlacement && initialPlacement === `${placement}-corner`) {
                return initialPlacement;
            }
            return placement;
        }
    }
}
export function getPlacementStyles(nubbin) {
    const [direction, align, corner] = nubbin.split('-');
    return {
        [direction]: '1rem',
        [align]: corner ? '-0.75rem' : (align ? '-1.5rem' : false),
    };
}
export { ɵ0, ɵ1, ɵ2 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmxheS1wb3NpdGlvbi5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWxpZ2h0bmluZy8iLCJzb3VyY2VzIjpbImxpYi91dGlsL292ZXJsYXktcG9zaXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFrQyxzQkFBc0IsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBUTlGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBaUY7SUFDeEcsS0FBSyxFQUFFO1FBQ0wsUUFBUSxFQUFFLElBQUksc0JBQXNCLENBQ2xDLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEVBQ3JDLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLENBQzNDO1FBQ0QsTUFBTSxFQUFFLFFBQVE7S0FDakI7SUFDRCxVQUFVLEVBQUU7UUFDVixRQUFRLEVBQUUsSUFBSSxzQkFBc0IsQ0FDbEMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFDckMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FDMUM7UUFDRCxNQUFNLEVBQUUsYUFBYTtLQUN0QjtJQUNELGlCQUFpQixFQUFFO1FBQ2pCLFFBQVEsRUFBRSxJQUFJLHNCQUFzQixDQUNsQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUNyQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUMxQztRQUNELE1BQU0sRUFBRSxvQkFBb0I7S0FDN0I7SUFDRCxXQUFXLEVBQUU7UUFDWCxRQUFRLEVBQUUsSUFBSSxzQkFBc0IsQ0FDbEMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFDckMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FD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Q0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckQsT0FBTztRQUNMLENBQUMsU0FBUyxDQUFDLEVBQUUsTUFBTTtRQUNuQixDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7S0FDM0QsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0ZWRPdmVybGF5UG9zaXRpb25DaGFuZ2UsIENvbm5lY3Rpb25Qb3NpdGlvblBhaXIgfSBmcm9tICdAYW5ndWxhci9jZGsvb3ZlcmxheSc7XG5cbmV4cG9ydCB0eXBlIFBsYWNlbWVudCA9XG4gICd0b3AnIHwgJ3RvcC1sZWZ0JyB8ICd0b3AtbGVmdC1jb3JuZXInIHwgJ3RvcC1yaWdodCcgfCAndG9wLXJpZ2h0LWNvcm5lcicgfFxuICAncmlnaHQnIHwgJ3JpZ2h0LXRvcCcgfCAncmlnaHQtdG9wLWNvcm5lcicgfCAncmlnaHQtYm90dG9tJyB8ICdyaWdodC1ib3R0b20tY29ybmVyJyB8XG4gICdib3R0b20nIHwgJ2JvdHRvbS1sZWZ0JyB8ICdib3R0b20tbGVmdC1jb3JuZXInIHwgJ2JvdHRvbS1yaWdodCcgfCAnYm90dG9tLXJpZ2h0LWNvcm5lcicgfFxuICAnbGVmdCcgfCAnbGVmdC10b3AnIHwgJ2xlZnQtdG9wLWNvcm5lcicgfCAnbGVmdC1ib3R0b20nIHwgJ2xlZnQtYm90dG9tLWNvcm5lcic7XG5cbmV4cG9ydCBjb25zdCBQT1NJVElPTl9NQVA6IHsgWyBrZXk6IHN0cmluZyBdOiB7IHBvc2l0aW9uOiBDb25uZWN0aW9uUG9zaXRpb25QYWlyLCBudWJiaW46IFBsYWNlbWVudCB9IH0gPSB7XG4gICd0b3AnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ3RvcCcgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdjZW50ZXInLCBvdmVybGF5WTogJ2JvdHRvbScgfVxuICAgICksXG4gICAgbnViYmluOiAnYm90dG9tJ1xuICB9LFxuICAndG9wLWxlZnQnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ3RvcCcgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdib3R0b20tbGVmdCdcbiAgfSxcbiAgJ3RvcC1sZWZ0LWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2JvdHRvbS1sZWZ0LWNvcm5lcidcbiAgfSxcbiAgJ3RvcC1yaWdodCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2VuZCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdib3R0b20tcmlnaHQnXG4gIH0sXG4gICd0b3AtcmlnaHQtY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICd0b3AnIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2JvdHRvbS1yaWdodC1jb3JuZXInXG4gIH0sXG4gICdyaWdodCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdjZW50ZXInIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2xlZnQnXG4gIH0sXG4gICdyaWdodC10b3AnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnZW5kJywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAndG9wJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdsZWZ0LXRvcCdcbiAgfSxcbiAgJ3JpZ2h0LXRvcC1jb3JuZXInOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnZW5kJywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAndG9wJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdsZWZ0LXRvcC1jb3JuZXInXG4gIH0sXG4gICdyaWdodC1ib3R0b20nOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnZW5kJywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdsZWZ0LWJvdHRvbSdcbiAgfSxcbiAgJ3JpZ2h0LWJvdHRvbS1jb3JuZXInOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnZW5kJywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdsZWZ0LWJvdHRvbS1jb3JuZXInXG4gIH0sXG4gICdib3R0b20nOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ2JvdHRvbScgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdjZW50ZXInLCBvdmVybGF5WTogJ3RvcCcgfVxuICAgICksXG4gICAgbnViYmluOiAndG9wJ1xuICB9LFxuICAnYm90dG9tLWxlZnQnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ2JvdHRvbScgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAndG9wJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICd0b3AtbGVmdCdcbiAgfSxcbiAgJ2JvdHRvbS1sZWZ0LWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAnYm90dG9tJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3RvcC1sZWZ0LWNvcm5lcidcbiAgfSxcbiAgJ2JvdHRvbS1yaWdodCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAnYm90dG9tJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2VuZCcsIG92ZXJsYXlZOiAndG9wJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICd0b3AtcmlnaHQnXG4gIH0sXG4gICdib3R0b20tcmlnaHQtY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3RvcC1yaWdodC1jb3JuZXInXG4gIH0sXG4gICdsZWZ0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ2NlbnRlcicgfVxuICAgICksXG4gICAgbnViYmluOiAncmlnaHQnXG4gIH0sXG4gICdsZWZ0LXRvcCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdjZW50ZXInIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3JpZ2h0LXRvcCdcbiAgfSxcbiAgJ2xlZnQtdG9wLWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdjZW50ZXInIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3JpZ2h0LXRvcC1jb3JuZXInXG4gIH0sXG4gICdsZWZ0LWJvdHRvbSc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdjZW50ZXInIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3JpZ2h0LWJvdHRvbSdcbiAgfSxcbiAgJ2xlZnQtYm90dG9tLWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdjZW50ZXInIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3JpZ2h0LWJvdHRvbS1jb3JuZXInXG4gIH1cbn07XG5cbmNvbnN0IERST1BET1dOX1BPU0lUSU9OX01BUCA9IHtcbiAgJ3RvcC1sZWZ0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ3RvcCcgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9LFxuICAgICksXG4gIH0sXG4gICdib3R0b20tbGVmdCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnc3RhcnQnLCBvdmVybGF5WTogJ3RvcCcgfSxcbiAgICApLFxuICB9LFxuICAnYm90dG9tLXJpZ2h0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2VuZCcsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICd0b3AnIH0sXG4gICAgKSxcbiAgfSxcbiAgJ3RvcC1yaWdodCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2VuZCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9LFxuICAgICksXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9EUk9QRE9XTl9QT1NJVElPTlMgPSB7XG4gIGxlZnQ6IFtgYm90dG9tLWxlZnRgLCBgdG9wLWxlZnRgXS5tYXAoKHApID0+IERST1BET1dOX1BPU0lUSU9OX01BUFtwXS5wb3NpdGlvbiksXG4gIHJpZ2h0OiBbYGJvdHRvbS1yaWdodGAsIGB0b3AtcmlnaHRgXS5tYXAoKHApID0+IERST1BET1dOX1BPU0lUSU9OX01BUFtwXS5wb3NpdGlvbiksXG59O1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9UT09MVElQX1BPU0lUSU9OUyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J10ubWFwKChwbGFjZW1lbnQ6IFBsYWNlbWVudCkgPT4gUE9TSVRJT05fTUFQW3BsYWNlbWVudF0ucG9zaXRpb24pO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QT1ZFUl9QT1NJVElPTlMgPSBERUZBVUxUX1RPT0xUSVBfUE9TSVRJT05TO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhY2VtZW50TmFtZShwb3NpdGlvbjogQ29ubmVjdGVkT3ZlcmxheVBvc2l0aW9uQ2hhbmdlLCBpbml0aWFsUGxhY2VtZW50OiBQbGFjZW1lbnQpOiBzdHJpbmcge1xuICBjb25zdCBrZXlMaXN0ID0gWyAnb3JpZ2luWCcsICdvcmlnaW5ZJywgJ292ZXJsYXlYJywgJ292ZXJsYXlZJyBdO1xuICBmb3IgKGNvbnN0IHBsYWNlbWVudCBpbiBQT1NJVElPTl9NQVApIHtcbiAgICBpZiAoa2V5TGlzdC5ldmVyeShrZXkgPT4gcG9zaXRpb24uY29ubmVjdGlvblBhaXJbIGtleSBdID09PSBQT1NJVElPTl9NQVBbIHBsYWNlbWVudCBdWyAncG9zaXRpb24nIF1bIGtleSBdKSkge1xuICAgICAgaWYgKGluaXRpYWxQbGFjZW1lbnQgJiYgaW5pdGlhbFBsYWNlbWVudCA9PT0gYCR7cGxhY2VtZW50fS1jb3JuZXJgKSB7XG4gICAgICAgIHJldHVybiBpbml0aWFsUGxhY2VtZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBsYWNlbWVudDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYWNlbWVudFN0eWxlcyhudWJiaW46IFBsYWNlbWVudCkge1xuICBjb25zdCBbZGlyZWN0aW9uLCBhbGlnbiwgY29ybmVyXSA9IG51YmJpbi5zcGxpdCgnLScpO1xuICByZXR1cm4ge1xuICAgIFtkaXJlY3Rpb25dOiAnMXJlbScsXG4gICAgW2FsaWduXTogY29ybmVyID8gJy0wLjc1cmVtJyA6IChhbGlnbiA/ICctMS41cmVtJyA6IGZhbHNlKSwgLy8gc3BhY2Ugb2YgbnViYmluIGZyb20gdGhlIGVkZ2VcbiAgfTtcbn1cbiJdfQ==