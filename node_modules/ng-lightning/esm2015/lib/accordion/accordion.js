import { __decorate, __metadata } from "tslib";
import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, ElementRef, Renderer2, ContentChildren, QueryList } from '@angular/core';
import { NglAccordionSection } from './accordion-section';
import { isOptionSelected, addOptionToSelection } from '../util/util';
import { InputBoolean } from '../util/convert';
let NglAccordion = class NglAccordion {
    constructor(element, renderer) {
        this.activeNameChange = new EventEmitter();
        /**
         * Whether we allow multiple sections open at a time.
         */
        this.multiple = false;
        renderer.addClass(element.nativeElement, 'slds-accordion');
    }
    toggle(section) {
        const active = addOptionToSelection(section.name, this.activeName, this.multiple);
        this.activeNameChange.emit(active);
    }
    isActive(section) {
        return isOptionSelected(section.name, this.activeName, this.multiple);
    }
};
NglAccordion.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
__decorate([
    Input(),
    __metadata("design:type", Object)
], NglAccordion.prototype, "activeName", void 0);
__decorate([
    Output(),
    __metadata("design:type", Object)
], NglAccordion.prototype, "activeNameChange", void 0);
__decorate([
    Input(), InputBoolean(),
    __metadata("design:type", Object)
], NglAccordion.prototype, "multiple", void 0);
__decorate([
    ContentChildren(NglAccordionSection),
    __metadata("design:type", QueryList)
], NglAccordion.prototype, "sections", void 0);
NglAccordion = __decorate([
    Component({
        selector: 'ngl-accordion,[ngl-accordion]',
        changeDetection: ChangeDetectionStrategy.OnPush,
        template: "\n<li *ngFor=\"let section of sections\" nglAccordionItem [isActive]=\"isActive(section)\" [section]=\"section\" (toggle)=\"toggle(section)\"></li>"
    }),
    __metadata("design:paramtypes", [ElementRef, Renderer2])
], NglAccordion);
export { NglAccordion };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3JkaW9uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmctbGlnaHRuaW5nLyIsInNvdXJjZXMiOlsibGliL2FjY29yZGlvbi9hY2NvcmRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsdUJBQXVCLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25KLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN0RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFPL0MsSUFBYSxZQUFZLEdBQXpCLE1BQWEsWUFBWTtJQWdCdkIsWUFBWSxPQUFtQixFQUFFLFFBQW1CO1FBVDFDLHFCQUFnQixHQUFHLElBQUksWUFBWSxFQUFxQixDQUFDO1FBRW5FOztXQUVHO1FBQ3NCLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFLeEMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUE0QjtRQUNqQyxNQUFNLE1BQU0sR0FBRyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELFFBQVEsQ0FBQyxPQUE0QjtRQUNuQyxPQUFPLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEUsQ0FBQztDQUVGLENBQUE7O1lBYnNCLFVBQVU7WUFBWSxTQUFTOztBQVgzQztJQUFSLEtBQUssRUFBRTs7Z0RBQStCO0FBRTdCO0lBQVQsTUFBTSxFQUFFOztzREFBMEQ7QUFLMUM7SUFBeEIsS0FBSyxFQUFFLEVBQUUsWUFBWSxFQUFFOzs4Q0FBa0I7QUFFSjtJQUFyQyxlQUFlLENBQUMsbUJBQW1CLENBQUM7OEJBQVcsU0FBUzs4Q0FBc0I7QUFkcEUsWUFBWTtJQUx4QixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsK0JBQStCO1FBQ3pDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO1FBQy9DLCtKQUErQjtLQUNoQyxDQUFDO3FDQWlCcUIsVUFBVSxFQUFZLFNBQVM7R0FoQnpDLFlBQVksQ0E2QnhCO1NBN0JZLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIEVsZW1lbnRSZWYsIFJlbmRlcmVyMiwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nbEFjY29yZGlvblNlY3Rpb24gfSBmcm9tICcuL2FjY29yZGlvbi1zZWN0aW9uJztcbmltcG9ydCB7IGlzT3B0aW9uU2VsZWN0ZWQsIGFkZE9wdGlvblRvU2VsZWN0aW9uIH0gZnJvbSAnLi4vdXRpbC91dGlsJztcbmltcG9ydCB7IElucHV0Qm9vbGVhbiB9IGZyb20gJy4uL3V0aWwvY29udmVydCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25nbC1hY2NvcmRpb24sW25nbC1hY2NvcmRpb25dJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHRlbXBsYXRlVXJsOiAnLi9hY2NvcmRpb24uaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIE5nbEFjY29yZGlvbiB7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGV4cGFuZGVkIHNlY3Rpb24ocykuXG4gICAqL1xuICBASW5wdXQoKSBhY3RpdmVOYW1lOiBzdHJpbmcgfCBzdHJpbmdbXTtcblxuICBAT3V0cHV0KCkgYWN0aXZlTmFtZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nIHwgc3RyaW5nW10+KCk7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgd2UgYWxsb3cgbXVsdGlwbGUgc2VjdGlvbnMgb3BlbiBhdCBhIHRpbWUuXG4gICAqL1xuICBASW5wdXQoKSBASW5wdXRCb29sZWFuKCkgbXVsdGlwbGUgPSBmYWxzZTtcblxuICBAQ29udGVudENoaWxkcmVuKE5nbEFjY29yZGlvblNlY3Rpb24pIHNlY3Rpb25zOiBRdWVyeUxpc3Q8TmdsQWNjb3JkaW9uU2VjdGlvbj47XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHJlbmRlcmVyLmFkZENsYXNzKGVsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3NsZHMtYWNjb3JkaW9uJyk7XG4gIH1cblxuICB0b2dnbGUoc2VjdGlvbjogTmdsQWNjb3JkaW9uU2VjdGlvbikge1xuICAgIGNvbnN0IGFjdGl2ZSA9IGFkZE9wdGlvblRvU2VsZWN0aW9uKHNlY3Rpb24ubmFtZSwgdGhpcy5hY3RpdmVOYW1lLCB0aGlzLm11bHRpcGxlKTtcbiAgICB0aGlzLmFjdGl2ZU5hbWVDaGFuZ2UuZW1pdChhY3RpdmUpO1xuICB9XG5cbiAgaXNBY3RpdmUoc2VjdGlvbjogTmdsQWNjb3JkaW9uU2VjdGlvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBpc09wdGlvblNlbGVjdGVkKHNlY3Rpb24ubmFtZSwgdGhpcy5hY3RpdmVOYW1lLCB0aGlzLm11bHRpcGxlKTtcbiAgfVxuXG59XG4iXX0=