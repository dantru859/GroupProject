import { __decorate } from "tslib";
import { Injectable } from '@angular/core';
import { format as dateFnsFormat, parse as dateFnsParse } from 'date-fns';
import { NglDateAdapterBase } from './adapter';
const PATTERNS = {
    'big-endian': 'yyyy/MM/dd',
    'little-endian': 'dd/MM/yyyy',
    'middle-endian': 'MM/dd/yyyy',
};
let NglDateAdapter = class NglDateAdapter extends NglDateAdapterBase {
    parse(value, format) {
        const date = dateFnsParse(value, format, new Date());
        return this.isValidDate(date) ? date : null;
    }
    format(date, format) {
        return dateFnsFormat(date, format);
    }
    pattern(name, delimiter) {
        const pattern = PATTERNS[name];
        return (delimiter && delimiter !== '/') ? pattern.replace(/\//g, delimiter) : pattern;
    }
    isValidDate(value) {
        const dateWrapper = new Date(value);
        return !isNaN(dateWrapper.getDate());
    }
};
NglDateAdapter = __decorate([
    Injectable()
], NglDateAdapter);
export { NglDateAdapter };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1mbnMtYWRhcHRlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWxpZ2h0bmluZy8iLCJzb3VyY2VzIjpbImxpYi9kYXRlcGlja2Vycy9hZGFwdGVycy9kYXRlLWZucy1hZGFwdGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxNQUFNLElBQUksYUFBYSxFQUFFLEtBQUssSUFBSSxZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDMUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRS9DLE1BQU0sUUFBUSxHQUFHO0lBQ2YsWUFBWSxFQUFFLFlBQVk7SUFDMUIsZUFBZSxFQUFFLFlBQVk7SUFDN0IsZUFBZSxFQUFFLFlBQVk7Q0FDOUIsQ0FBQztBQUdGLElBQWEsY0FBYyxHQUEzQixNQUFhLGNBQWUsU0FBUSxrQkFBa0I7SUFFcEQsS0FBSyxDQUFDLEtBQWEsRUFBRSxNQUFjO1FBQ2pDLE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNyRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlDLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBVSxFQUFFLE1BQWM7UUFDL0IsT0FBTyxhQUFhLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxPQUFPLENBQUMsSUFBc0QsRUFBRSxTQUFpQjtRQUMvRSxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsT0FBTyxDQUFDLFNBQVMsSUFBSSxTQUFTLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7SUFDeEYsQ0FBQztJQUVPLFdBQVcsQ0FBQyxLQUFLO1FBQ3ZCLE1BQU0sV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDdkMsQ0FBQztDQUVGLENBQUE7QUFyQlksY0FBYztJQUQxQixVQUFVLEVBQUU7R0FDQSxjQUFjLENBcUIxQjtTQXJCWSxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZm9ybWF0IGFzIGRhdGVGbnNGb3JtYXQsIHBhcnNlIGFzIGRhdGVGbnNQYXJzZSB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCB7IE5nbERhdGVBZGFwdGVyQmFzZSB9IGZyb20gJy4vYWRhcHRlcic7XG5cbmNvbnN0IFBBVFRFUk5TID0ge1xuICAnYmlnLWVuZGlhbic6ICd5eXl5L01NL2RkJyxcbiAgJ2xpdHRsZS1lbmRpYW4nOiAnZGQvTU0veXl5eScsXG4gICdtaWRkbGUtZW5kaWFuJzogJ01NL2RkL3l5eXknLFxufTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE5nbERhdGVBZGFwdGVyIGV4dGVuZHMgTmdsRGF0ZUFkYXB0ZXJCYXNlIHtcblxuICBwYXJzZSh2YWx1ZTogc3RyaW5nLCBmb3JtYXQ6IHN0cmluZyk6IERhdGUgfCBudWxsIHtcbiAgICBjb25zdCBkYXRlID0gZGF0ZUZuc1BhcnNlKHZhbHVlLCBmb3JtYXQsIG5ldyBEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWREYXRlKGRhdGUpID8gZGF0ZSA6IG51bGw7XG4gIH1cblxuICBmb3JtYXQoZGF0ZTogRGF0ZSwgZm9ybWF0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBkYXRlRm5zRm9ybWF0KGRhdGUsIGZvcm1hdCk7XG4gIH1cblxuICBwYXR0ZXJuKG5hbWU6ICdiaWctZW5kaWFuJyB8ICdsaXR0bGUtZW5kaWFuJyB8ICdtaWRkbGUtZW5kaWFuJywgZGVsaW1pdGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhdHRlcm4gPSBQQVRURVJOU1tuYW1lXTtcbiAgICByZXR1cm4gKGRlbGltaXRlciAmJiBkZWxpbWl0ZXIgIT09ICcvJykgPyBwYXR0ZXJuLnJlcGxhY2UoL1xcLy9nLCBkZWxpbWl0ZXIpIDogcGF0dGVybjtcbiAgfVxuXG4gIHByaXZhdGUgaXNWYWxpZERhdGUodmFsdWUpOiBib29sZWFuIHtcbiAgICBjb25zdCBkYXRlV3JhcHBlciA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICByZXR1cm4gIWlzTmFOKGRhdGVXcmFwcGVyLmdldERhdGUoKSk7XG4gIH1cblxufVxuIl19